tosca_definitions_version: tosca_2_0

metadata:
  template_name: Namespaces Example
  template_author: Puccini

imports:
  # Short-form import: types from this file are merged into the root (default) namespace
  - url: imports/nginx.yaml

  # Long-form import: types from this file are placed under a custom namespace ("mongodb")
  - url: imports/mongodb.yaml
    namespace: mongodb

  # Explicit import of the TOSCA Simple Profile types into the "tosca" namespace
  - url: https://raw.githubusercontent.com/xDaryamo/tosca-community-contributions/refs/heads/master/profiles/org/oasis-open/simple/2.0/profile.yaml
    namespace: tosca

# The "profile" keyword declares this file as a reusable library.
# It allows other service templates to import this profile using:
#   imports:
#     - profile: example
# Note: this does not affect the namespace of the types declared in this file.
profile: example

service_template:

  node_templates:

    web:
      # This type is imported into the root namespace from "nginx.yaml"
      type: NginX

    db:
      # This type is imported with namespace "mongodb" from "mongodb.yaml"
      type: mongodb:MongoDB

    server1:
      # CORRECT: Using "tosca:Compute" is the valid and recommended way in TOSCA 2.0
      type: tosca:Compute

    server2:
      #    Previously, in TOSCA 1.x, "Compute" could be used without a namespace.
      #    This is no longer allowed in TOSCA 2.0.
      #    Always qualify normative types with their imported namespace, e.g., "tosca:Compute".
      type: tosca:Compute

    server3:
      #    The use of "tosca.nodes.Compute" is invalid in TOSCA 2.0.
      type: tosca:Compute
