tosca_definitions_version: tosca_2_0

imports:
  - url: https://raw.githubusercontent.com/xDaryamo/tosca-community-contributions/refs/heads/master/profiles/org/oasis-open/simple/2.0/profile.yaml
    namespace: tosca

metadata:
  template_name: Attributes Example
  template_author: Puccini

data_types:
  DayOfWeek:
    derived_from: string
    validation:
      $valid_values: [ $value, [ su, mo, tu, we, th, fr, sa ] ]

node_types:

  Backup:
    # Unlike "properties", you can't mark an attribute as required or not
    # Attributes are *always* added to the node template, even if they have not been assigned
    # If they don't have a "default" value, they will get an automatic, sensible default
    # (E.g., a string will get an empty string)
    # But this might not always match constraints, which would result in an error
    # So in some cases you might have to explicitly assign a default
    attributes:
      days:
        type: list
        entry_schema: DayOfWeek
      max-size:
        description: Max size
        type: tosca:Size

service_template:

  node_templates:

    backup1:
      type: Backup
      attributes:
        # You can assign initial values to attributes
        # Though it's expected that they may change
        max-size: 10 GiB

    backup2:
      type: Backup
      attributes:
        # There is also a long notation that lets you override the description
        max-size: 10 GiB
