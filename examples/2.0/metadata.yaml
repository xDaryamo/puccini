tosca_definitions_version: tosca_2_0

imports:
  - url: https://raw.githubusercontent.com/xDaryamo/tosca-community-contributions/refs/heads/master/profiles/org/oasis-open/simple/2.0/profile.yaml
    namespace: tosca

# Metadata does not have any specified use
# But, because it's compiled to Clout, it's a great way to add hints for your Clout processor
# or orchestrator

# The service template can have optional metadata
metadata:

  # The following fields are "normative" and expected in TOSCA
  template_name: Metadata Example
  template_author: Puccini
  template_version: '1.0' # (must be a string so we add quotes to avoid being read as a float)
  # And you can add your custom metadata
  # (The "." has no special general meaning for metadata names)
  galactic.planet: Mercury

# -- Custom Data Types --
data_types:
  Planet:
    derived_from: string
    description: Name of a planet in the solar system
    validation:
      $valid_values: [ $value, [ Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune, Pluto ] ]

# -- Node Types --
node_types:

  Server:
    derived_from: tosca:Compute
    metadata:
      galactic.planet: Jupiter
    version: 1.0.0
    properties:
      planet:
        type: Planet
        required: false
        metadata:
          galaxy: Andromeda

# -- Service Template --
service_template:

  node_templates:

    server:
      type: Server
      metadata:
        galactic.planet: Venus
      directives:
        - proxy
        - mock
        - disposable
